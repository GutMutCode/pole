@extern("malloc")
func c_malloc(size: Int) -> Ptr<Unit>

@extern("free")
func c_free(ptr: Ptr<Unit>) -> Unit

@extern("puts")
func c_puts(s: String) -> Int

func test_pointer() -> Int :
  let size = 1024 in
  let buffer = c_malloc(size) in
  let _ = c_puts("Allocated 1024 bytes") in
  let _ = c_free(buffer) in
  let _ = c_puts("Freed buffer") in
  0

@test_case(expected=0)
