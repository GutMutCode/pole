# Pole 개발 로드맵

> 우선순위 기반 작업 관리
>
> **사용 방법**: 새로운 작업 요청이 들어오면, 이 문서의 우선순위를 기준으로 현재 작업과 비교하여 우선순위를 결정합니다.

---

## 우선순위 원칙

### 작업 선택 규칙 (중요)

**Phase가 P0/P1/P2보다 상위 개념입니다.**

1. **Phase 우선**: 현재 Phase 내 작업을 먼저 완료
2. **P0 → P1 → P2**: 같은 Phase 내에서 우선순위 순서
3. **Phase 전환 조건**: 현재 Phase의 P0 작업이 모두 완료되어야 다음 Phase 시작 가능

**예시**:
- Phase 1의 P1 작업 vs Phase 2의 P0 작업
  → **Phase 1 P1 먼저 수행** (Phase 1이 현재 진행 중)
- Phase 1의 P0가 모두 완료되고 P1/P2만 남은 경우
  → Phase 1의 P1 수행 후, 선택적으로 Phase 2 시작 가능

### 최우선 작업 찾기

1. 현재 Phase 확인
2. 해당 Phase 내에서 미완료 작업 중 가장 높은 우선순위 선택 (P0 → P1 → P2)
3. 현재 Phase의 필수 작업(P0) 완료 시:
   - P1이 남았으면 P1 수행
   - Phase 전환 여부는 사용자와 협의

---

### P0 (Critical) - 시스템 핵심 기능

- 이것 없이는 Pole이 작동하지 않는 필수 요소
- 다른 모든 작업의 선행 조건
- **즉시 작업 필요**

### P1 (High) - 핵심 가치 제공

- Pole의 차별화된 가치를 제공하는 기능
- P0 완료 후 바로 착수
- **다음 우선순위**

### P2 (Medium) - 품질 향상

- 시스템을 더 좋게 만드는 기능
- P0, P1 완료 후 진행
- **여유가 있을 때**

### P3 (Low) - 부가 기능

- 있으면 좋지만 없어도 되는 기능
- 모든 핵심 작업 완료 후
- **나중에**

---

## Phase 0: 기획 및 문서화 (완료)

### P0 작업 (필수)

- [x] **0.1 프로젝트 구조 정의**

  - 완료일: 2025-10-19
  - 산출물: 디렉토리 구조 (`specs/`, `examples/`)
  - 상태: ✅ 완료

- [x] **0.2 아키텍처 문서 작성**

  - 완료일: 2025-10-19
  - 산출물: `ARCHITECTURE.md`
  - 내용: 시스템 파이프라인, 용어 정의, LLM 역할
  - 상태: ✅ 완료

- [x] **0.3 변환 워크플로우 정의**

  - 완료일: 2025-10-19
  - 산출물: `specs/workflow.md`
  - 내용: LLM 변환 6단계 프로세스, 명세 검증 체크리스트
  - 상태: ✅ 완료

- [x] **0.4 개발 가이드라인 작성**

  - 완료일: 2025-10-19
  - 산출물: `AGENTS.md`
  - 내용: 코드 스타일, 명세 검증 프로세스
  - 상태: ✅ 완료

- [x] **0.5 로드맵 작성**
  - 완료일: 2025-10-19
  - 산출물: `ROADMAP.md` (본 문서)
  - 내용: 우선순위 기반 작업 관리 시스템
  - 상태: ✅ 완료

---

## Phase 1: 언어 설계 (진행 중)

### P0 작업 (필수)

- [x] **1.1 명세 언어 문법 설계**

  - 완료일: 2025-10-19
  - 산출물: `specs/syntax-v0.md`, `examples/*.pole`
  - 상태: ✅ 완료

- [x] **1.2 구현 언어 (IR) 설계** ⭐ 현재 최우선 작업

  - 타입 시스템 정의
  - 형식 의미론
  - 메모리 모델
  - 효과 시스템
  - 산출물: `specs/implementation-lang.md`
  - 선행 조건: 1.1 완료
  - **참고 문서**:
    - README.md (라인 134-201: 구현 언어 상세 조건)
    - ARCHITECTURE.md (라인 46-51: IR 정의 및 목적)
    - specs/syntax-v0.md (명세 언어와의 대응 관계)
    - examples/\*.pole (변환 대상 명세 예제)
  - **다음 작업**: 이것부터 시작

- [x] **1.3 IR 문법 및 예제 작성**
  - 완료일: 2025-10-19
  - IR 구체적 문법 정의
  - 명세 언어 예제의 IR 버전 작성
  - 산출물: `specs/ir-syntax.md`, `examples/*.pole-ir`
  - 선행 조건: 1.2 완료
  - 상태: ✅ 완료
  - **참고 문서**:
    - specs/implementation-lang.md (1.2에서 작성한 IR 설계)
    - examples/\*.pole (변환할 명세 예제)

### P1 작업 (중요)

- [x] **1.4 검증 시스템 요구사항 정의**
  - 완료일: 2025-10-19
  - 타입 체커 요구사항
  - 명세 준수 검증 방법
  - 테스트 생성 전략
  - 산출물: `specs/verification.md`
  - 선행 조건: 1.2, 1.3 완료
  - 상태: ✅ 완료
  - **참고 문서**:
    - README.md (라인 205-277: 검증 시스템 조건)
    - specs/workflow.md (Step 5: 검증 단계)
    - specs/implementation-lang.md (타입 시스템 설계)

### P2 작업 (선택)

- [ ] **1.5 표준 라이브러리 설계**
  - 기본 데이터 타입
  - 표준 함수들
  - 산출물: `specs/stdlib.md`

---

## Phase 2: 프로토타입 구현

### P0 작업 (필수)

- [x] **2.1 개발 환경 설정**
  - 완료일: 2025-10-19
  - Python 프로젝트 구조
  - 의존성 관리 (pyproject.toml)
  - 선행 조건: Phase 1 완료
  - 상태: ✅ 완료
  - 산출물: 
    - `pyproject.toml` (프로젝트 설정, 의존성)
    - `src/pole/` (소스 디렉토리 구조)
    - `.gitignore`
    - `Makefile` (개발 명령어)
    - `DEVELOPMENT.md` (개발 가이드)

- [ ] **2.2 명세 언어 파서**

  - .pole 파일 파싱
  - AST 생성
  - 산출물: `src/parser/spec_parser.py`
  - 선행 조건: 2.1 완료

- [ ] **2.3 명세 검증기 (Specification Validator)**

  - 완전성 체크 (workflow.md Step 3 구현)
  - 불명확성 탐지
  - 질문 생성
  - 산출물: `src/validator/spec_validator.py`
  - 선행 조건: 2.2 완료
  - **핵심**: 이 단계에서 LLM이 사용자에게 질문
  - **참고 문서**:
    - specs/workflow.md (Step 3: 완전성 검증 - 체크리스트 및 프로세스)
    - AGENTS.md (명세 검증 프로세스)

- [ ] **2.4 LLM 변환기 (Transformer)**

  - LLM API 연동 (Claude/GPT)
  - 명세 → IR 변환
  - 산출물: `src/transformer/llm_transformer.py`
  - 선행 조건: 2.3 완료

- [ ] **2.5 IR 인터프리터 (최소 버전)**
  - IR 코드 실행
  - 기본 연산만 지원
  - 산출물: `src/runtime/interpreter.py`
  - 선행 조건: 2.4 완료

### P1 작업 (중요)

- [ ] **2.6 예제 기반 테스트 실행기**

  - 명세의 examples로 IR 검증
  - workflow.md Step 5 구현
  - 산출물: `src/verifier/example_tester.py`
  - 선행 조건: 2.5 완료

- [ ] **2.7 타입 체커**

  - IR 타입 검증
  - 산출물: `src/verifier/type_checker.py`
  - 선행 조건: 2.5 완료

- [ ] **2.8 CLI 도구**
  - `pole check <file>` - 명세 검증
  - `pole build <file>` - IR 생성
  - `pole run <file>` - 실행
  - 산출물: `src/cli/main.py`
  - 선행 조건: 2.4, 2.5 완료

### P2 작업 (선택)

- [ ] **2.9 대화형 명세 개선 도구**
  - 사용자와 대화하며 명세 개선
  - 질문-응답 루프
  - 산출물: `src/cli/interactive.py`

---

## Phase 3: 완성도 향상

### P0 작업 (필수)

- [ ] **3.1 에러 메시지 개선**

  - 명확하고 도움이 되는 에러 메시지
  - 소스 위치 추적

- [ ] **3.2 성능 최적화**
  - IR 실행 속도 개선
  - 메모리 사용 최적화

### P1 작업 (중요)

- [ ] **3.3 형식 검증 통합**

  - SMT 솔버 연동
  - 계약 프로그래밍 지원

- [ ] **3.4 IDE 통합 (LSP)**
  - 문법 하이라이팅
  - 자동 완성
  - 에러 표시

### P2 작업 (선택)

- [ ] **3.5 디버거**
- [ ] **3.6 프로파일러**
- [ ] **3.7 문서 생성기**

---

## 새 작업 우선순위 결정 프로세스

새로운 작업 요청이 들어오면 다음 절차를 따르세요:

### 1. 작업 분류

먼저 요청된 작업이 어느 카테고리에 속하는지 판단:

- 언어 설계 (Phase 1)
- 구현 (Phase 2)
- 개선 (Phase 3)
- 문서화
- 버그 수정
- 기타

### 2. 우선순위 평가 질문

다음 질문들을 사용자에게 물어보며 우선순위를 결정:

**질문 1**: 이 작업이 없으면 Pole이 작동하지 않나요?

- YES → P0 후보
- NO → 질문 2로

**질문 2**: 이 작업이 Pole의 핵심 가치(LLM 변환, 검증)를 제공하나요?

- YES → P1 후보
- NO → 질문 3으로

**질문 3**: 이 작업이 시스템 품질을 크게 향상시키나요?

- YES → P2
- NO → P3

### 3. 현재 작업과 비교

우선순위가 결정되면 **현재 진행 중인 작업**과 비교:

```
새 작업: <설명> (우선순위: P?)

현재 최우선 작업: 1.2 구현 언어 (IR) 설계 (우선순위: P0)

비교:
- 새 작업이 P0이고, 1.2보다 선행 조건인가? → 새 작업 먼저
- 새 작업이 P0이지만, 1.2의 후행 작업인가? → 1.2 먼저, 새 작업은 대기
- 새 작업이 P1 이하인가? → 1.2 먼저, 새 작업은 백로그에 추가
```

### 4. 사용자 확인

```
[우선순위 분석 결과]

새 작업: <설명>
평가된 우선순위: P?
이유: <왜 이 우선순위인지>

현재 최우선 작업: 1.2 구현 언어 설계 (P0)

권장 사항:
1. [추천] 현재 작업(1.2) 계속 진행 후 새 작업 진행
   이유: <설명>

2. 새 작업을 즉시 시작
   이유: <만약 더 우선순위가 높다면>
   영향: 1.2는 보류됨

어떻게 하시겠습니까?
```

### 5. 백로그 업데이트

결정 후 이 문서(ROADMAP.md)를 업데이트하여 새 작업을 적절한 위치에 추가

---

## 현재 상태 요약

**현재 Phase**: Phase 2 (프로토타입 구현)

**완료된 작업**:

- ✅ Phase 0: 기획 및 문서화 (전체 완료 - 2025-10-19)
  - 0.1 프로젝트 구조 정의
  - 0.2 아키텍처 문서 작성
  - 0.3 변환 워크플로우 정의
  - 0.4 개발 가이드라인 작성
  - 0.5 로드맵 작성
- ✅ Phase 1: 언어 설계 (전체 완료 - 2025-10-19)
  - 1.1 명세 언어 문법 설계 (P0)
  - 1.2 구현 언어 (IR) 설계 (P0)
  - 1.3 IR 문법 및 예제 작성 (P0)
  - 1.4 검증 시스템 요구사항 정의 (P1)
- ✅ 2.1 개발 환경 설정 (2025-10-19)

**현재 최우선 작업**:

- ⭐ 2.2 명세 언어 파서 (P0)

**대기 중인 P0 작업**:

- 2.2 명세 언어 파서
- 2.3 명세 검증기
- 2.4 LLM 변환기
- 2.5 IR 인터프리터

**다음 마일스톤**: Phase 2 시작 (1.5 선택적)

---

## 의존성 그래프

```
Phase 0 (완료)
  ↓
1.1 (완료)
  ↓
1.2 (완료)
  ↓
1.3 (완료)
  ↓
1.4 (완료)
  ↓
1.5 (선택) ⭐ 또는 Phase 2 시작
  ↓
Phase 2 시작
  ↓
2.1 → 2.2 → 2.3 → 2.4 → 2.5
              ↓      ↓
            2.6    2.7
              ↓      ↓
            2.8 ←───┘
```

---

## 변경 이력

- 2025-10-19: 초기 로드맵 작성
- 2025-10-19: Phase 0 완료 (기획/문서화 단계)
  - 0.1 프로젝트 구조 정의 완료
  - 0.2 ARCHITECTURE.md 작성 완료
  - 0.3 specs/workflow.md 작성 완료
  - 0.4 AGENTS.md 작성 완료
  - 0.5 ROADMAP.md 작성 완료
- 2025-10-19: Phase 1.1 명세 언어 문법 설계 완료
- 2025-10-19: Phase 1.2 구현 언어 (IR) 설계 완료
  - specs/implementation-lang.md 작성
- 2025-10-19: Phase 1.3 IR 문법 및 예제 작성 완료
  - specs/ir-syntax.md 작성 (EBNF 문법 정의)
  - examples/01-factorial.pole-ir 작성
  - examples/02-fibonacci.pole-ir 작성
  - examples/03-user-validation.pole-ir 작성
- 2025-10-19: Phase 1.4 검증 시스템 요구사항 정의 완료
  - specs/verification.md 작성
  - 타입 체커, 명세 준수 검증, 테스트 생성 전략 정의
- 2025-10-19: Phase 2.1 개발 환경 설정 완료
  - pyproject.toml 작성 (프로젝트 설정, 의존성)
  - src/pole/ 디렉토리 구조 생성
  - .gitignore, Makefile 추가
  - DEVELOPMENT.md 작성 (개발 가이드)
